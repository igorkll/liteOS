local a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=checkArg,"string","nil","init.lua","boot/kernel/","Install LiteOS","Set Url Boot","Life Url Boot","Select Boot Priority","Select Boot Fs","","Classic Boot","","","{u='',e=true,k=true,j=true,f=false}","Settings","liteOS installer","exit","no internet-card, urlboot is not available",component.proxy,component.list,component.invoke,true;local x,y,z,A,B,C,D,E,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a0,a1=computer,pcall,50,16;function a1()Z=t(u"int"()or k)_=t(u"gp"()or k)B=u"scr"()if _ and B then N,O,Y=_.setBackground,_.setForeground,_.setPaletteColor;_.bind(B)_.setDepth(1)_.setDepth(math.min(_.maxDepth(),4))if _.getDepth()>3 then Y(0,0)Y(1,0xffffff)Y(2,0x888888)U=1 end;_.setResolution(z,A)v(B,"turnOn")end end;function M()V,W=_.getBackground()_.setBackground(_.getForeground())_.setForeground(V,W)end;local a2,a3,a4,a5,a6,a7,a8,a9=function()_.fill(1,1,z,A," ")end,function(H,aa,ab)if ab then M()end;_.set(math.floor(z/2-#H/2)+1,aa,H)if ab then M()end end,function(ac)E,D,I,G=x.pullSignal(ac)if E=="component_added"or E=="component_removed"then a1()end end,function()_.setDepth(1)_.setDepth(_.maxDepth())N(0)O(-1)end,function(ad)if U then if ad==0 then N(1,w)O(0,w)elseif ad==1 then N(1,w)O(2,w)end else N(-1)O(0)end end,"__fast","__bios",x.shutdown;a1()function x.getBootAddress()return Q end;function x.setBootAddress(ae)end;local af,ag,ah,ai,aj,ak=function(al,am,an)a6(0)a2()a3(al,2,not U)::ao::a6(1)for ap,H in ipairs(am)do a3((" "):rep(46),ap+3,ap==an)a3(H,ap+3,ap==an)end;a4()if E=="key_down"then if G==28 then return an end;if G==208 and an<#am then an=an+1 end;if G==200 and an>1 then an=an-1 end end;goto ao end,function(al,ac)if not _ then return end;a6(0)a2()a3(al,2)while ac do a6(1)a3("press enter to continue",4)a4()if E=="key_down"and G==28 then break end end end,function(al,aq)H=aq or k::ao::a2()a6(0)a3(al,2)a6(1)a3(H.."_",4)a4()if E=="key_down"then if G==28 then return H elseif G==14 then H=H:sub(1,-2)elseif I>31 and I<127 then H=H..string.char(I)end elseif E=="clipboard"then H=H..I end;goto ao end,function(ar,as)D,H,I,J,Q,P=t(ar),k,k,F,ar,as;E,J=D.open(as,"rb")if E then repeat H=H..I;I=D.read(E,math.huge)until not I;G,J=load(H,"="..as)end;if J then return J end;a5()J=debug.traceback;assert(xpcall(G,J))a9()end,function(at)D,H,J=Z.request(at),k,"Unvalid Address"while D do I,J=D.read(math.huge)if I then H=H..I else break end end;if J then return J end;G,J=load(H,"="..at)if J then return J end;a5()J=debug.traceback;assert(xpcall(G,J))a9()end;function T(au,av)local aw=" ("..au:sub(1,4)..", "..av..") "ag("booting"..J)H=ai(au,av)if H then ag("boot-error"..aw..H,1)end end;function K(at)if not Z then ag(s,1)return end;ag("url booting")H=aj(at)if H then ag("error-urlboot: "..H,1)end end;function ak(ax)P,Q={},{}for ae in u"file"do table.insert(P,ae:sub(1,5)..":"..(v(ae,"getLabel")or"unknown"))table.insert(Q,ae)end;table.insert(P,"cancel")return af(ax,P,1)end;C=1;while 1 do C=af(q,{l,f,"Shutdown"},C)if C==1 then J=ak(l)if Q[J]then T(Q[J],d)end elseif C==2 then J=ak(f)if Q[J]then T(Q[J],d)end elseif C==3 then a9()end end